pipeline {
    agent any
    environment {
        app = 'Davids App'
        file = 'Files/File1.txt'
    }
    stages {
        stage('Pre Requests') {
            steps {
                sh '''
                rm -rf *
                mkdir -p Files                
                '''
            }
        }
        stage('Building Stage') {
            steps {
                sh '''
                echo "Starting Building $app"
                echo "Starting Building $app" >> $file
                '''
            }
        }
        stage('Check Status Stage') {
            steps {
                sh '''
                test -f $file
                grep "$app" $file
                '''
            }
        }
    }
}
